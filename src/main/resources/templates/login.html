<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
<div id="app" style="display: flex; justify-content: center; margin-top: 100px;">
    <div style="width: 400px">
        <el-card>
            <div style="display: flex; position: relative;">
                <div>当前： {{currentTitle}}</div>
                <div style="position: absolute; right: 0; cursor: pointer; color: #409EEF" @click="switchMode">切换登录方式</div>
            </div>
            <div style="margin-top: 40px; display: flex; justify-content: center;" v-show="mode === 'guest'">
                <el-image :src="qrCodeUrl" style="width: 115px; height: 115px;"/>
            </div>
            <div style="margin-top: 40px;" v-show="mode === 'userNameAndPassword'">
                <div style="display: flex;">
                    <div style="height: 40px; line-height: 40px; ">用户名: </div>
                    <el-input style="width: 250px; margin-left: 20px;"/>
                </div>
                <div style="margin-top: 40px; display: flex; justify-content: center;"><el-button type="primary">下一步</el-button></div>
            </div>
        </el-card>
    </div>
</div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    new Vue({
        el: '#app',
        data: function() {
            return {
				qrCodeUrl: "",
                mode: "userNameAndPassword",
                userName: "",
                password: "",
                code: "",
                visible: false ,
            }
        },
        methods: {
            switchMode() {
                this.mode = this.mode === "userNameAndPassword" ? "guest" : "userNameAndPassword"
            },
			setQrCode() {
				axios.get("/user/get/qr/code").then(res => {
					this.qrCodeUrl = "data:image/png;base64," + res.data.data;
				})
			}
        },
        computed:{
            currentTitle() {
                if (this.mode === "userNameAndPassword") {
                    return "账号密码登录";
                }

                if (this.mode === "guest") {
                    return "游客登录";
                }
                return "";
            },
        },
		created() {
			this.setQrCode();
		}

    })
</script>
</html>